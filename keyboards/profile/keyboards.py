from aiogram.types import InlineKeyboardButton
from aiogram.utils.keyboard import InlineKeyboardBuilder
from config import INLINE_MODE


def get_profile_keyboard(admin: bool = False) -> InlineKeyboardBuilder:
    """
    –°–æ–∑–¥–∞–µ—Ç –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É –¥–ª—è –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

    Args:
        admin: –§–ª–∞–≥, —É–∫–∞–∑—ã–≤–∞—é—â–∏–π, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º.

    Returns:
        InlineKeyboardBuilder: –ü–æ—Å—Ç—Ä–æ–∏—Ç–µ–ª—å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã —Å –∫–Ω–æ–ø–∫–∞–º–∏ –ø—Ä–æ—Ñ–∏–ª—è.
    """
    builder = InlineKeyboardBuilder()

    # –û—Å–Ω–æ–≤–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ –ø—Ä–æ—Ñ–∏–ª—è
    builder.button(text="üí∞ –ë–∞–ª–∞–Ω—Å", callback_data="balance")
    builder.button(text="üîë –ú–æ–∏ –ø–æ–¥–ø–∏—Å–∫–∏", callback_data="my_subs")
    builder.button(text="üí∏ –ü–æ–ø–æ–ª–Ω–∏—Ç—å –±–∞–ª–∞–Ω—Å", callback_data="payment")
    builder.button(text="üéÅ –ü–æ–¥–∞—Ä–∫–∏", callback_data="gifts")
    builder.button(text="üë• –ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å –¥—Ä—É–≥–∞", callback_data="invite")
    builder.button(text="üìö –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏", callback_data="instructions")
    builder.button(text="üé´ –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –∫—É–ø–æ–Ω", callback_data="activate_coupon")

    # –ö–Ω–æ–ø–∫–∞ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
    if admin:
        builder.button(text="‚öôÔ∏è –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å", callback_data="admin_panel")

    # –ö–Ω–æ–ø–∫–∞ –≥–ª–∞–≤–Ω–æ–≥–æ –º–µ–Ω—é
    builder.button(text="üè† –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é", callback_data="main_menu")

    # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è –∫–Ω–æ–ø–æ–∫ (2 –∫–Ω–æ–ø–∫–∏ –≤ —Ä—è–¥)
    builder.adjust(2)

    return builder


def get_balance_keyboard() -> InlineKeyboardBuilder:
    """
    –°–æ–∑–¥–∞–µ—Ç –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É –¥–ª—è —Ä–∞–∑–¥–µ–ª–∞ –±–∞–ª–∞–Ω—Å–∞.

    Returns:
        InlineKeyboardBuilder: –ü–æ—Å—Ç—Ä–æ–∏—Ç–µ–ª—å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã —Å –∫–Ω–æ–ø–∫–∞–º–∏ –¥–ª—è –±–∞–ª–∞–Ω—Å–∞.
    """
    builder = InlineKeyboardBuilder()

    builder.button(text="üìä –ò—Å—Ç–æ—Ä–∏—è –±–∞–ª–∞–Ω—Å–∞", callback_data="balance_history")
    builder.button(text="üë§ –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç", callback_data="profile")
    builder.adjust(1)

    return builder


def get_invite_keyboard(chat_id: int, referral_link: str) -> InlineKeyboardBuilder:
    """
    –°–æ–∑–¥–∞–µ—Ç –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É –¥–ª—è –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è –¥—Ä—É–∑–µ–π.

    Args:
        chat_id: ID —á–∞—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
        referral_link: –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞.

    Returns:
        InlineKeyboardBuilder: –ü–æ—Å—Ç—Ä–æ–∏—Ç–µ–ª—å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã —Å –∫–Ω–æ–ø–∫–∞–º–∏ –¥–ª—è –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π.
    """
    builder = InlineKeyboardBuilder()

    if INLINE_MODE:
        builder.button(text="üë• –ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å –¥—Ä—É–≥–∞", switch_inline_query="invite")
    else:
        invite_text = f"\n–ü—Ä–∏–≥–ª–∞—à–∞—é —Ç–µ–±—è –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –±—ã—Å—Ç—Ä—ã–º VPN –≤–º–µ—Å—Ç–µ:\n\n{referral_link}"
        builder.button(text="üë• –ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å –¥—Ä—É–≥–∞", switch_inline_query=invite_text)

    builder.button(text="üë§ –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç", callback_data="profile")
    builder.adjust(1)

    return builder
